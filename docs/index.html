<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./logoe.png" rel="icon" type="image/png">
<script src="site_libs/quarto-listing/list.min.js"></script>
<script src="site_libs/quarto-listing/quarto-listing.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-reports-listings .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-image','listing-date','listing-description','listing-title',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: ["listing-title","listing-author","listing-date","listing-image","listing-description"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-reports-listings'] = new List('listing-reports-listings', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-themes-listings .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-image','listing-description','listing-title',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: ["listing-title","listing-author","listing-image","listing-description"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-themes-listings'] = new List('listing-themes-listings', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>
<style>html{ scroll-behavior: smooth; }</style>
</head><body class="nav-fixed fullcontent"><div class="hero-image">
  <div class="hero-text">
    <h4>"From the start of the COVID-19 crisis, it was clear that this was not merely a sanitary crisis, but also a psychological-motivational one."</h4>
  </div>
</div>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">




<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./logoe.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./reports.html" rel="" target="">
 <span class="menu-text">REPORTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html" rel="" target="">
 <span class="menu-text">PUBLICATIONS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./media.qmd" rel="" target="">
 <span class="menu-text">MEDIA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html" rel="" target="">
 <span class="menu-text">ABOUT</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://bugs.com">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<style type="text/css">
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 25px;
border-radius: 5px;
font-style: italic;
}
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}
div.orange { background-color:#ffa366; border-radius: 5px; padding: 20px;}
div.yellow { background-color:#09bb9f; color: white; border-radius: 5px; padding: 20px;}
div.grey { background-color:#ebebeb; color: white; border-radius: 5px; padding: 20px;}

</style>
<section id="latest-news" class="level1">
<h1>Latest News</h1>
<div id="listing-reports-listings" class="quarto-listing quarto-listing-container-grid">
<div class="list grid quarto-listing-cols-4">
<div class="g-col-1" data-index="0" data-listing-date-sort="1698620400000" data-listing-file-modified-sort="1704836018000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2">
<a href="./posts/news30october2023.html" class="quarto-grid-link">
<div class="quarto-grid-item card h-100 card-left">
<p class="card-img-top">
<img src="./posts/imagenews30october2023.png" class="thumbnail-image card-img" style="height: 20 px;">
</p>
<div class="card-body post-contents">
<h5 class="no-anchor card-title listing-title" data-anchor-id="latest-news">
New scientific publication
</h5>
<div class="card-text listing-description">
An overview of the Motivation Barometer as an evidence-informed policy instrument in Belgium
</div>
<div class="card-attribution card-text-small end">
<div class="listing-date">
Oct 30, 2023
</div>
</div>
</div>
</div>
</a>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div>
<p><a href="https://www.motivationbarometer.com">Read more news…</a></p>
</section>
<section id="themes" class="level1">
<h1>Themes</h1>
<div id="listing-themes-listings" class="quarto-listing quarto-listing-container-grid">
<div class="list grid quarto-listing-cols-3">
<div class="g-col-1" data-index="0" data-listing-file-modified-sort="1704917999000" data-listing-reading-time-sort="7">
<a href="./themes/Motivation.html" class="quarto-grid-link">
<div class="quarto-grid-item card h-100 card-left">
<p class="card-img-top">
<img src="./themes/motivation.jpg" class="thumbnail-image card-img" style="height: 20 px;">
</p>
<div class="card-body post-contents">
<h5 class="no-anchor card-title listing-title" data-anchor-id="themes">
Motivation and risk perception
</h5>
<div class="card-text listing-description">
Quality of motivation, lack of motivation and risk perception
</div>
</div>
</div>
</a>
</div>
<div class="g-col-1" data-index="1" data-listing-file-modified-sort="1704918460000" data-listing-reading-time-sort="7">
<a href="./themes/Wellbeing.html" class="quarto-grid-link">
<div class="quarto-grid-item card h-100 card-left">
<p class="card-img-top">
<img src="./themes/mentalhealth.jpg" class="thumbnail-image card-img" style="height: 20 px;">
</p>
<div class="card-body post-contents">
<h5 class="no-anchor card-title listing-title">
Mental health
</h5>
<div class="card-text listing-description">
Concern, basic psychological needs and vulnerable groups
</div>
</div>
</div>
</a>
</div>
<div class="g-col-1" data-index="2" data-listing-file-modified-sort="1704918171000" data-listing-reading-time-sort="7">
<a href="./themes/Contextual.html" class="quarto-grid-link">
<div class="quarto-grid-item card h-100 card-left">
<p class="card-img-top">
<img src="./themes/context.jpg" class="thumbnail-image card-img" style="height: 20 px;">
</p>
<div class="card-body post-contents">
<h5 class="no-anchor card-title listing-title">
Contextual predictors
</h5>
<div class="card-text listing-description">
Hospitalization load and stringency, communication style and trust
</div>
</div>
</div>
</a>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div>
</section>
<section id="the-motivation-barometer" class="level1">
<h1>The Motivation Barometer</h1>
<section id="how-it-started" class="level2">
<h2 class="anchored" data-anchor-id="how-it-started">How it started</h2>
<p>The emergence of the SARS-CoV-2 virus required a swift and coordinated response from policymakers to control its spread (World Health Organization, 2020). Policymakers worldwide sought advice from scientific advisory committees, mainly composed of biomedical experts, including virologists, infectious disease specialists, biostatisticians, and epidemiologists. Although individuals’ behavior and adherence to health guidelines are critical in controlling the virus, social scientists, particularly psychologists, were notably underrepresented in advising policymakers with evidence-informed recommendations <span class="citation" data-cites="bavel2020">(<a href="#ref-bavel2020" role="doc-biblioref">Bavel et al. 2020</a>)</span>.</p>
<p>Policy decisions, although essential for containing the virus, can often be intrusive into people’s lives and conflict with basic psychological needs, such as the need for relatedness <span class="citation" data-cites="leary2022 self-det2017">(<a href="#ref-leary2022" role="doc-biblioref">Leary 2022</a>; <a href="#ref-self-det2017" role="doc-biblioref">Ryan and Deci 2017</a>)</span>. The unpredictable course of the virus, coupled with the absence of efficient vaccines in 2020 and the gradual vaccine rollout until mid-2021, demanded prolonged adherence efforts from citizens.</p>
<p>The Motivation Barometer project was established to contribute to evidence-based COVID-19 policy and address various psychological aspects affecting individuals. This large-scale, dynamic monitoring system tracked psychological functioning across the pandemic through over a hundred measurement waves, starting on March 19, 2020, one day after Belgium’s initial lockdown. The project originated in the Belgian context, but its generic aspects hold relevance for other countries.</p>
<div class="columns">
<div class="column" style="width:45%;">
<img src="images/BD_2022_057.jpg" style="border-radius: 10px; width: 100%;">
<figcaption style="font-size: 13px;">
Sofie Morbée at symposium ‘Psychological science meets policy’ June 2022, Brussels. Pic by Bart Duriez
</figcaption>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<img src="images/BD_2022_090.jpg" style="border-radius: 10px; width: 100%;">
<figcaption style="font-size: 13px;">
Maarten Vansteenkiste at symposium ‘Psychological science meets policy’ June 2022, Brussels. Pic by Bart Duriez
</figcaption>
</div>
</div>
</section>
<section id="what-is-the-motivation-barometer" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-motivation-barometer">What is the Motivation Barometer?</h2>
<p>The Motivation Barometer, an extensive online survey conducted throughout the pandemic, metaphorically gauged “psychological pressure” and “morale.” Initially, daily surveys were deployed during Belgium’s strict lockdown, following participants longitudinally for 10 weeks or longer. Subsequently, data collection adapted to evolving pandemic phases, incorporating both consistent modules (e.g., motivation, basic needs) and ad hoc modules (e.g., attitudes toward vaccination, mask usage). This dynamic approach enabled <strong>data-driven insights into pivotal psychological aspects for policymakers and the public</strong>.</p>
<p>The project, encompassing diverse content and populations, explored <strong>a range of psychological themes—covering behavioral, motivational, cognitive, emotional, and social aspects</strong>. Special attention was given to specific groups, including students, parents, older adults, sportsmen, and unvaccinated individuals. Methodologically, it employed various research designs and statistical methods, including cross-sectional cohorts, longitudinal surveys, experimental designs in vignette and real-life interventions. The study was <strong>theory-driven</strong>, primarily guided by Self-Determination Theory, while also incorporating insights from risk perception, health communication, governmental trust, and conspiracy thinking. This approach transcended a mere descriptive analysis, aiming to understand the psychological processes influencing adherence to sanitary behaviors, well-being, and vaccination willingness, shedding light on variations in people’s preferences for COVID-related policy options.</p>
<div class="columns">
<div class="column" style="width:45%;">
<img src="images/BD_2022_003.jpg" style="border-radius: 10px; width: 100%;">
<figcaption style="font-size: 13px;">
Vincent Yzerbyt at symposium ‘Psychological science meets policy’ June 2022, Brussels. Pic by Bart Duriez
</figcaption>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<img src="images/BD_2022_047.jpg" style="border-radius: 10px; width: 100%;">
<figcaption style="font-size: 13px;">
Audience at symposium ‘Psychological science meets policy’ June 2022, Brussels. Pic by Bart Duriez
</figcaption>
</div>
</div>
</section>
<section id="method-and-analytical-approach" class="level2">
<h2 class="anchored" data-anchor-id="method-and-analytical-approach">Method and analytical approach</h2>
<p>Initially launched in Flanders, the Motivation Barometer expanded to include French language questionnaires and participants from Brussels and Wallonia. Participants were recruited online through social media ads and collaborations with national newspapers. No monetary incentives were provided. A total of 483,778 surveys were completed by 321,495 unique individuals across <strong>110 waves</strong>, with an average of 2949 participants per wave. Ad hoc recruitment led to nonrepresentative data, biased towards those with computer and internet access, and motivated individuals. The sample was older, more female, more vaccinated, and more educated than the average Belgian population. To address bias, a weighting procedure was applied based on population statistics, though limitations were acknowledged. Attitudinal data were cautiously presented, and a weighting procedure adjusted for sociodemographic differences. Nonetheless, potential biases and limitations in small datasets were recognized, and the influence of other unmeasured variables on self-selection was acknowledged.</p>
<p>To address potential biases, our analysis and presentation of findings focused on structural relations between psychological variables or between sociodemographic and psychological factors, minimizing the impact of data unrepresentativeness. Rather than reporting absolute numbers, we emphasized relative changes over time and presented findings in a differentiated manner for characteristics not included in the weighting procedure. Careful wording and theory-grounded interpretations were employed to prevent inappropriate conclusions and aid understanding among citizens and policymakers.</p>
<div class="columns">
<div class="column" style="width:27%;">

</div><div class="column" style="width:46%;">
<center>
<img src="images/Barometer_Final-zondertekst-transparant.png" class="img-fluid">
</center>
</div><div class="column" style="width:27%;">

</div>
</div>
<!-- :::: {.columns} -->
<!-- ::: {.column width="45%"} -->
<!-- <img src="images/sympo.jpeg" style="border-radius: 10px; width: 100%;"> -->
<!-- ::: -->
<!-- ::: {.column width="10%"} -->
<!-- ::: -->
<!-- ::: {.column width="45%"} -->
<!-- hey hallow -->
<!-- ::: -->
<!-- :::: -->
<!-- ```{r echo=FALSE} -->
<!-- library(pixture) -->
<!-- paths <- c( -->
<!-- "/Users/joachimwaterschoot/Library/CloudStorage/OneDrive-UGent/testttt/images/sympo.jpeg", -->
<!-- "https://watjoa.github.io/download/other_docs/screenshot.png") -->
<!-- pixgallery(paths) -->
<!-- ``` -->




</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-bavel2020" class="csl-entry" role="listitem">
Bavel, Jay J. Van, Katherine Baicker, Paulo S. Boggio, Valerio Capraro, Aleksandra Cichocka, Mina Cikara, Molly J. Crockett, et al. 2020. <span>“Using Social and Behavioural Science to Support COVID-19 Pandemic Response.”</span> <em>Nature Human Behaviour</em> 4 (5): 460–71. <a href="https://doi.org/10.1038/s41562-020-0884-z">https://doi.org/10.1038/s41562-020-0884-z</a>.
</div>
<div id="ref-leary2022" class="csl-entry" role="listitem">
Leary, Mark R. 2022. <span>“The Need to Belong,”</span> May. <a href="https://doi.org/10.4324/9780367198459-reprw57-1">https://doi.org/10.4324/9780367198459-reprw57-1</a>.
</div>
<div id="ref-self-det2017" class="csl-entry" role="listitem">
Ryan, Richard M, and Edward L. Deci, eds. 2017. <em>Self-Determination Theory: Basic Psychological Needs in Motivation, Development, and Wellness</em>. Guilford Press. <a href="https://doi.org/10.1521/978.14625/28806">https://doi.org/10.1521/978.14625/28806</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2023, Joachim Waterschoot</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>